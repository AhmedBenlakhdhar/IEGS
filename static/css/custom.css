/* static/css/custom.css - "Emerald Cyberspace" Theme (COMPLETE w/ Theme Toggle Prep & Blue Links) */

/* 1. Variables and Base */
:root {
  /* DARK THEME (Default) */
  --bg-primary: #111318;
  --bg-element: #1a1d24;
  --bg-element-lighter: #20232a;
  --bg-tertiary: #252a33;
  --text-primary: #e8eaf6;
  --text-secondary: #9fa8da;
  --text-tertiary: #5f687e;
  --accent-primary: #00ffaa; /* Keep original accent for non-link elements */
  --accent-hover: #00e699;  /* Keep original accent hover */
  --highlight-gold: #ffc107;
  --border-color: #303440;
  --border-lighter: #404552;
  --shadow-color: rgba(0, 0, 0, 0.3); /* Shadow for dark */
  --input-focus-glow: rgba(0, 255, 170, 0.15);

  /* --- NEW: Link Colors --- */
  --link-color: #3399ff; /* Brighter blue for dark background */
  --link-hover-color: #66ccff; /* Lighter blue for hover on dark */
  /* --- END NEW: Link Colors --- */

  /* Update link switch variables to use new link colors */
  --link-switch-color: var(--link-color);
  --link-switch-hover: var(--link-hover-color);

  --rating-mashbouh-text: var(--bg-primary); /* Dark text on amber */
  --alert-warning-bg: var(--highlight-gold); /* Amber for spoiler */
  --alert-warning-text: var(--bg-primary);
  --alert-warning-border: color-mix(in srgb, var(--highlight-gold) 80%, black);

  /* Shared Rating & Severity Colors */
  --rating-halal: #00e676;
  --rating-mashbouh: #ffc107;
  --rating-haram: #ff5252;
  --rating-kufr: #78909c;
  --rating-HAL: var(--rating-halal);
  --rating-MSH: var(--rating-mashbouh);
  --rating-HRM: var(--rating-haram);
  --rating-KFR: var(--rating-kufr);
  --severity-n-color: #dddddd;
  --severity-l-color: var(--rating-halal);
  --severity-m-color: var(--rating-mashbouh);
  --severity-h-color: var(--rating-haram);
  --severity-p-color: var(--rating-kufr);

  --font-primary: 'Inter', sans-serif;
  --font-heading: 'Exo 2', sans-serif;
  --font-heading-weight: 800;
  --font-body-weight: 400;
}

/* LIGHT THEME Variables */
body.light-mode {
  --bg-primary: #f8f9fa;
  --bg-element: #ffffff;
  --bg-element-lighter: #f1f3f5;
  --bg-tertiary: #e9ecef;
  --text-primary: #212529;
  --text-secondary: #6c757d;
  --text-tertiary: #adb5bd;
  --accent-primary: #00c891; /* Darker Teal for non-links */
  --accent-hover: #00a378; /* Darker Teal hover for non-links */
  --border-color: #dee2e6;
  --border-lighter: #ced4da;
  --shadow-color: rgba(0, 0, 0, 0.1); /* Lighter shadow */
  --input-focus-glow: rgba(0, 200, 145, 0.15); /* Adjusted glow color */
  --highlight-gold-lightmode: #b8860b;

  /* --- NEW: Link Colors (Light Mode) --- */
  --link-color: #0d6efd; /* Standard Bootstrap blue for light background */
  --link-hover-color: #0a58ca; /* Darker blue for hover on light */
  /* --- END NEW: Link Colors --- */

  /* Update link switch variables for light mode */
  --link-switch-color: var(--link-color);
  --link-switch-hover: var(--link-hover-color);

  --rating-mashbouh-text: #212529; /* Keep dark text on amber */
  --alert-warning-bg: #fff3cd; /* Bootstrap light warning */
  --alert-warning-text: #664d03;
  --alert-warning-border: #ffecb5;

   /* Remove dark background image */
   background-image: none;
}

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-primary);
  font-weight: var(--font-body-weight);
  font-size: 16px;
  line-height: 1.6;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.container {
  max-width: 1140px;
}

/* 2. Typography */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  font-weight: var(--font-heading-weight);
  color: var(--text-primary); /* Use variable */
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-top: 0;
}
h1 { font-size: 2.2rem; margin-bottom: 0.5rem; }
h2 { font-size: 1.6rem; margin-bottom: 1.5rem; }
h3 { font-size: 1.3rem; }
h4 { font-size: 1.1rem; } /* Card titles */
h5 { font-size: 1rem; } /* Section titles */

a {
    color: var(--link-color); /* Use new link color variable */
    text-decoration: none;
    transition: color 0.2s ease;
}
a:hover {
    color: var(--link-hover-color); /* Use new link hover color variable */
}


/* Ensure Bootstrap links use theme colors (Keep these specific overrides) */
.link-dark { color: var(--text-primary) !important; } /* Override BS for dark theme */
body.light-mode .link-dark { color: #000 !important; } /* Black link in light mode */
.link-secondary { color: var(--text-secondary) !important; }
/* Alert link will now inherit the default blue link color unless overridden */
.alert-link { font-weight: 600; }

/* Blockquote Styles             */
blockquote {
  font-family: 'Amiri', serif;
  margin: 1.5em 0 1.5em 1.5em; /* LTR margin */
  padding: 1em 1.5em;
  border-left: 4px solid var(--border-lighter); /* Subtle border */
  background-color: var(--bg-element-lighter); /* Slightly different background */
  color: var(--text-secondary); /* Use secondary text color */
  font-style: italic; /* Common style for quotes in LTR */
  font-size: 0.95rem; /* Slightly smaller text */
  line-height: 1.7;
}

blockquote p:last-child {
  margin-bottom: 0; /* Remove extra space at the bottom */
}

blockquote strong {
  font-style: normal;
  color: var(--highlight-gold) !important
}

body.light-mode blockquote strong {
  color: var(--highlight-gold-lightmode) !important;
}


/* --- RTL Override for Blockquote --- */
html[dir="rtl"] blockquote {
  font-family: 'Amiri', serif;
  margin: 1.5em 1.5em 1.5em 0; /* RTL margin */
  border-left: none;
  border-right: 4px solid var(--border-lighter); /* Flipped border */
  font-style: normal; /* Remove italics for Naskh script */
}

/* 3. Header & Navigation */
.site-header {
  background: var(--bg-element); /* Use variable */
  border-bottom: 1px solid var(--border-color);
  padding: 0.75rem 0;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}
body.light-mode .site-header {
    box-shadow: 0 1px 3px rgba(0,0,0,0.07);
}

.navbar { padding: 0; }
.site-brand { font-weight: var(--font-heading-weight); font-size: 1.4rem; color: var(--text-primary) !important; display: flex; align-items: center; letter-spacing: 1px; }
.site-brand svg { color: var(--accent-primary); width: 20px; height: 20px; margin-right: 8px; } /* Keep brand icon accent */
.site-brand:hover { color: var(--text-primary) !important; }

/* Keep Nav link specific colors */
.navbar .nav-link { font-family: var(--font-heading); font-weight: 600; font-size: 0.9rem; text-transform: uppercase; color: var(--text-secondary); padding: 0.5rem 1rem; border-bottom: 3px solid transparent; transition: color 0.2s ease, border-color 0.2s ease; }
.navbar .nav-link:hover, .navbar .nav-link.active { color: var(--text-primary); border-bottom-color: var(--accent-primary); } /* Keep accent for active nav */
body.light-mode .navbar .nav-link:hover,
body.light-mode .navbar .nav-link.active { color: var(--accent-primary); } /* Accent color for active link in light */
.navbar .admin-link:hover { color: var(--rating-haram) !important; border-bottom-color: var(--rating-haram); }

.navbar-toggler { border-color: var(--border-color); }
.navbar-toggler-icon { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(232, 234, 246, 0.8)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e"); }
body.light-mode .navbar-toggler-icon { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(33, 37, 41, 0.7)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");}

/* 4. Main Content & Page Headers */
.main-content { padding-top: 3rem; padding-bottom: 4rem; }
.page-header { padding-bottom: 0.75rem; margin-bottom: 2rem; position: relative; border-bottom: 1px solid var(--border-color); }
.page-header::after { content: ''; position: absolute; bottom: -1px; left: 0; width: 60px; height: 3px; background-color: var(--accent-primary); } /* Keep accent line */
.page-header h1 { margin-bottom: 0; color: var(--text-primary); font-size: 1.8rem;}

/* 5. Game Card (List View) */
.card.game-card { background-color: var(--bg-element); border: 1px solid var(--border-color); border-radius: 6px; margin-bottom: 1.5rem; transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease; overflow: hidden; }
.card-link-wrapper { display: block; text-decoration: none; color: inherit; transition: none; }
.card-link-wrapper:hover .card.game-card { transform: translateY(-4px); border-color: var(--border-lighter); box-shadow: 0 6px 12px var(--shadow-color); }
.card-img-top { aspect-ratio: 16 / 10; object-fit: cover; border-bottom: 1px solid var(--border-color); }
.card-img-top.bg-secondary { background-color: var(--bg-element-lighter) !important; display: flex; align-items: center; justify-content: center; color: var(--text-secondary); font-family: var(--font-primary); font-size: 0.9rem; }
.card-body { padding: 1rem 1.25rem; background-color: var(--bg-element); } /* Ensure body has bg */
.card-title { font-size: 1.1rem; margin-bottom: 0.25rem; color: var(--text-primary); font-weight: var(--font-heading-weight); text-transform: uppercase;}
.game-meta { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.75rem; }
.rating-flags-container { margin-top: auto; padding-top: 0.75rem; border-top: 1px solid var(--border-color); }
.rating-badge { display: inline-block; font-family: var(--font-heading); font-weight: 600; font-size: 0.75rem; padding: 4px 10px; border-radius: 2px; text-transform: uppercase; letter-spacing: 1px; color: #fff; margin-right: 6px; margin-bottom: 6px; text-align: center; box-shadow: inset 0 -1px 1px rgba(0,0,0,0.3); }
.flag-symbol { font-family: 'Material Symbols Outlined'; font-weight: normal; font-style: normal; font-size: 1.1rem; line-height: 1; letter-spacing: normal; text-transform: none; display: inline-block; white-space: nowrap; word-wrap: normal; direction: ltr; -webkit-font-feature-settings: 'liga'; font-feature-settings: 'liga'; -webkit-font-smoothing: antialiased; color: var(--text-secondary); background-color: var(--bg-tertiary); border: 1px solid var(--border-color); padding: 4px 6px; border-radius: 4px; margin-right: 6px; margin-bottom: 6px; vertical-align: -2px; transition: color 0.2s, background-color 0.2s, border-color 0.2s; }
.rating-icon { font-size: 1.7em; vertical-align: -2px; margin-right: 4px; position: relative; top: 1px; }
.badge.adjustment-badge { background-color: var(--bg-tertiary); color: var(--text-secondary); border: 1px solid var(--border-color); font-family: var(--font-primary); font-weight: 600; font-size: 0.75rem; padding: 9px 10px; border-radius: 4px; text-transform: uppercase; letter-spacing: 0.5px; vertical-align: middle; margin-bottom: 5px; }
.rating-label { position: relative; top: -2px; }

/* 6. Game Detail Page */
.detail-image-wrapper { background-color: var(--bg-element-lighter); border: 1px solid var(--border-color); padding: 0.75rem; border-radius: 6px; margin-bottom: 1.5rem; }
.detail-image-wrapper img, .detail-image-wrapper .img-fluid { display: block; width: 100%; height: auto; border-radius: 4px; }
.detail-image-wrapper .img-fluid.rounded.shadow { min-height: 250px; display: flex; align-items: center; justify-content: center; background-color: var(--bg-element-lighter); color: var(--text-secondary); box-shadow: none; }
.detail-title { font-size: 2rem; font-weight: var(--font-heading-weight); color: var(--text-primary); margin-bottom: 0.25rem; border-bottom: 2px solid var(--accent-primary); padding-bottom: 0.5rem; display: inline-block; } /* Keep accent */
.detail-meta { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem; text-transform: uppercase; position: relative; padding-bottom: 0.75rem; }
/* .detail-meta::after { content: ''; position: absolute; bottom: 0; left: 0; width: 50px; height: 2px; background-color: var(--accent-primary); } */ /* Remove accent line here if desired, keep platform border */
/* Keep specific meta link colors */
.detail-meta a { color: var(--text-secondary); }
.detail-meta a:hover { color: var(--accent-primary); } /* Keep accent hover for these specific links */
.detail-overall-rating { margin-top: 1rem; margin-bottom: 0.5rem; font-size: 0.95rem; }
.detail-overall-rating .rating-badge { font-size: 0.8rem; padding: 4px 10px; vertical-align: middle; }
.game-summary { font-size: 0.95rem; color: var(--text-secondary); margin-top: 1rem; margin-bottom: 0; }
.adjustment-guide-section { margin-top: 2rem; padding: 1.5rem; background-color: var(--bg-element); border: 1px solid var(--border-color); border-left: 4px solid var(--highlight-gold); border-radius: 4px; }
.adjustment-guide-section h5 { font-family: var(--font-heading); font-weight: 600; font-size: 1rem; color: var(--highlight-gold); margin-bottom: 0.75rem; text-transform: uppercase; }
.adjustment-guide-content { font-size: 0.95rem; color: var(--text-primary); line-height: 1.7; }
.adjustment-guide-content a { font-weight: 600; } /* Inherits blue color */
.store-links-section { border-top: 1px solid var(--border-color); padding-top: 0.75rem; }
.store-links-title { font-family: var(--font-heading); font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.5px; }
/* Keep specific store link styles */
.store-link { display: inline-block; background-color: var(--bg-tertiary); color: var(--text-secondary); padding: 4px 10px; border-radius: 4px; margin-right: 5px; margin-bottom: 5px; font-size: 0.8rem; font-weight: 600; text-decoration: none; border: 1px solid var(--border-color); transition: all 0.2s ease; }
.store-link:hover { color: var(--text-primary); background-color: var(--bg-element-lighter); border-color: var(--border-lighter); text-decoration: none; }
.store-link.steam { border-left: 3px solid #66c0f4; }
.store-link.epic { border-left: 3px solid #ffffff; }
.store-link.gog { border-left: 3px solid #8a43ce; }
.store-link.other { border-left: 3px solid var(--text-secondary); }

/* 7. MGC Guidance Breakdown */
.MGC-guide-section { margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color); }
.guide-section-title { font-weight: var(--font-heading-weight); color: var(--text-primary); margin-bottom: 1.5rem !important; text-align: center; text-transform: uppercase; letter-spacing: 1px; font-size: 1.5rem; }
.guide-category-block { background-color: transparent; border: 1px solid var(--border-color); border-radius: 6px; margin-bottom: 1rem; overflow: hidden; }
.guide-category-header[data-bs-toggle="collapse"] { background-color: var(--bg-element); padding: 0.75rem 1.25rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); cursor: pointer; position: relative; transition: background-color 0.2s ease; }
.guide-category-header[data-bs-toggle="collapse"]:hover { background-color: var(--bg-element-lighter); }
.category-title-text { font-size: 0.8rem; font-weight: var(--font-heading-weight); color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 1px; }
.severity-circle { display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-left: 10px; flex-shrink: 0; border: 1px solid rgba(0,0,0,0.2); }
html[dir="rtl"] .severity-circle { margin-left: 0; margin-right: 10px; }
.severity-circle.severity-n { background-color: var(--severity-n-color); }
.severity-circle.severity-l { background-color: var(--severity-l-color); }
.severity-circle.severity-m { background-color: var(--severity-m-color); }
.severity-circle.severity-h { background-color: var(--severity-h-color); }
.severity-circle.severity-p { background-color: var(--severity-p-color); }
.severity-text { font-size: 0.75rem; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; line-height: 1; }
html[dir="rtl"] .severity-text.ms-2 { margin-left: 0 !important; margin-right: 0.5rem !important; }
.guide-category-header .material-symbols-outlined.toggle-indicator { color: var(--text-secondary); font-size: 1.25rem; transition: transform 0.3s ease; vertical-align: middle; line-height: 1; }
.guide-category-header[aria-expanded="true"] .material-symbols-outlined.toggle-indicator { transform: rotate(180deg); }
html[dir="rtl"] .toggle-indicator.ms-2 { margin-left: 0 !important; margin-right: 0.5rem !important; }
.guide-category-details { padding: 1rem 1.25rem; font-size: 0.95rem; line-height: 1.7; color: var(--text-primary); background-color: transparent; }
.guide-category-details p:last-child { margin-bottom: 0; }
.guide-category-block .collapse.show .guide-category-details { border-top: 1px solid var(--border-color); }
html[dir="rtl"] .guide-category-details { text-align: right; }
.category-reason-inline { margin-top: 1rem; padding-top: 0.75rem; }
.reason-separator { margin-top: 0; margin-bottom: 0.75rem; border-top: 1px dashed var(--border-color); opacity: 0.5; }
.reason-label { font-size: 0.8rem; font-weight: 600; color: var(--text-tertiary); margin-bottom: 0.25rem; text-transform: uppercase; letter-spacing: 0.5px; }
.reason-text { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0; }
html[dir="rtl"] .category-reason-inline { /* Text alignment handled by body */ }
.spoiler-alert { background-color: var(--alert-warning-bg); color: var(--alert-warning-text); border-color: var(--alert-warning-border); border-radius: 4px; margin-bottom: 1.5rem; font-weight: 600; padding: 0.75rem 1rem; }
.spoiler-alert strong { color: inherit; }
.spoiler-alert svg { vertical-align: -2px; }
html[dir="rtl"] .spoiler-alert svg { margin-left: 0.5rem; margin-right: 0; }

/* 8. Articles */
.article-item { padding-bottom: 1.5rem; margin-bottom: 1.5rem; border-bottom: 1px solid var(--border-color); }
.article-item:last-child { border-bottom: none; margin-bottom: 0; }
.article-item h4 { font-size: 1.3rem; margin-bottom: 0.3rem; font-family: var(--font-heading); }
/* Keep article title specific colors */
.article-item h4 a { color: var(--text-primary); transition: color 0.2s ease; }
.article-item h4 a:hover { color: var(--accent-primary); text-decoration: none; } /* Keep accent hover */
.article-meta { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 1rem; text-transform: uppercase; }
.article-excerpt { color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.95rem; }
/* Keep read-more specific accent color */
.read-more-link { font-family: var(--font-heading); font-weight: 600; color: var(--accent-primary); text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1px; }
.read-more-link:hover { color: var(--accent-hover); }
.article-detail-meta { color: var(--text-secondary); font-size: 0.9rem; border-bottom: 1px solid var(--border-color); padding-bottom: 1rem; margin-bottom: 1.5rem; }
.article-content { line-height: 1.7; color: var(--text-primary); }
.article-content strong { color: var(--accent-primary); font-weight: 600; }
.article-content a { text-decoration: underline; /* Inherits blue color from 'a' */ }
.article-content a:hover { color: var(--link-hover-color); /* Use the new link hover blue */ }


/* 9. Footer */
.site-footer { background-color: var(--bg-element); border-top: 1px solid var(--border-color); padding: 1.5rem 0; margin-top: 4rem; }
.footer-text { color: var(--text-secondary); font-size: 0.9rem; text-align: center; margin: 0; }
.footer-link { text-decoration: underline; } /* Inherits blue color */

/* 10. Search Form */
.search-form .form-control { background-color: var(--bg-element); border-color: var(--border-color); color: var(--text-primary); border-radius: 4px; }
.search-form .form-control::placeholder { color: var(--text-tertiary); opacity: 1; }
.search-form .form-control:focus { background-color: var(--bg-element-lighter); border-color: var(--accent-primary); box-shadow: none; color: var(--text-primary); } /* Keep accent focus */
.search-form .btn { color: var(--accent-primary); border-color: var(--accent-primary); border-radius: 4px; font-weight: 600; text-transform: uppercase; font-size: 0.9rem; } /* Keep accent button */
.search-form .btn:hover { background-color: var(--accent-primary); border-color: var(--accent-primary); color: var(--bg-primary); }

/* 11. Back Link (Detail Page) */
/* Keep specific back link style */
.back-link { display: inline-block; margin-top: 2rem; font-size: 0.9rem; color: var(--text-secondary); text-decoration: none; padding: 8px 0; border-bottom: 1px dashed var(--border-color); transition: color 0.2s, border-color 0.2s; }
.back-link:hover { color: var(--text-primary); border-color: var(--text-primary); }

/* 12. Homepage Hero */
.homepage-hero { background: var(--bg-element); padding: 3rem 1.5rem; margin-bottom: 3rem !important; border-radius: 6px; border: 1px solid var(--border-color); text-align: center; }
.homepage-hero h1 { color: var(--text-primary); font-size: 2rem; font-weight: 800;}
.homepage-hero p.lead { color: var(--text-secondary); font-weight: 400; font-size: 1rem; max-width: 600px; margin: 0 auto 1.5rem auto; }
/* Keep specific button styles */
.homepage-hero .btn { font-weight: 600; text-transform: uppercase; padding: 0.6rem 1.2rem; font-size: 0.9rem; letter-spacing: 0.5px; border-radius: 4px; border-width: 1px; }
.homepage-hero .btn-primary { background-color: var(--accent-primary); border-color: var(--accent-primary); color: var(--bg-primary); }
.homepage-hero .btn-primary:hover { background-color: var(--accent-hover); border-color: var(--accent-hover); transform: translateY(-2px); }
.homepage-hero .btn-outline-secondary { color: var(--text-primary); border-color: var(--text-secondary); }
.homepage-hero .btn-outline-secondary:hover { background-color: var(--bg-element-lighter); color: var(--text-primary); border-color: var(--text-primary); transform: translateY(-2px); }
.homepage-hero .section-title { font-size: 1.4rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; margin-bottom: 1.5rem !important; color: var(--accent-primary); text-align: left; font-weight: 800;} /* Keep accent title */
/* Keep specific article summary link style */
.article-summary h5 a { color: var(--text-primary); text-decoration: none; font-size: 1rem; font-weight: var(--font-heading-weight); }
.article-summary h5 a:hover { color: var(--accent-primary); } /* Keep accent hover */
.article-summary-meta { font-size: 0.8rem; color: var(--text-secondary); text-transform: uppercase; margin-bottom: 0.25rem; }
.article-summary-excerpt { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0; }

/* 13. Filter/Sort Form Styles */
.filter-sort-form.card { background-color: var(--bg-element); border-color: var(--border-color); border-radius: 6px; }
.filter-sort-form .form-label-sm { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.25rem; text-transform: uppercase; font-weight: 600; }
.filter-sort-form .form-select-sm { background-color: var(--bg-secondary); border-color: var(--border-color); color: var(--text-primary); font-size: 0.875rem; }
.filter-sort-form .form-select-sm:focus { border-color: var(--accent-primary); box-shadow: 0 0 0 0.25rem var(--input-focus-glow); background-color: var(--bg-secondary); color: var(--text-primary);} /* Keep accent focus */
.filter-sort-form .filter-apply-btn { width: 100%; background-color: var(--accent-primary); border-color: var(--accent-primary); color: var(--bg-primary); font-weight: 600; text-transform: uppercase; } /* Keep accent button */
.filter-sort-form .filter-apply-btn:hover { background-color: var(--accent-hover); border-color: var(--accent-hover); }

/* 14. Pagination Styles */
/* Keep specific pagination colors */
.pagination .page-link { background-color: var(--bg-element); border-color: var(--border-color); color: var(--text-secondary); }
.pagination .page-link:hover { background-color: var(--bg-tertiary); color: var(--text-primary); }
.pagination .page-item.active .page-link { background-color: var(--accent-primary); border-color: var(--accent-primary); color: var(--bg-primary); font-weight: 600; } /* Keep accent active */
.pagination .page-item.disabled .page-link { background-color: var(--bg-element); border-color: var(--border-color); color: var(--text-tertiary); }

/* 15. Glossary Page Styles */
.glossary-content dt { font-family: var(--font-heading); font-weight: 600; color: var(--text-primary); margin-bottom: 0.5rem; padding-top: 1rem; border-top: 1px solid var(--border-color); }
.glossary-content dt:first-of-type { border-top: none; }
.glossary-content dd { color: var(--text-secondary); margin-bottom: 1rem; padding-left: 1rem; padding-top: 1rem; }
.glossary-content dt .material-symbols-outlined, .glossary-content dt .severity-circle { margin-right: 8px; vertical-align: -3px; font-size: 1.7em; }
.glossary-content dt .severity-circle { width: 14px; height: 14px; border: none; display: inline-block; border-radius: 50%;}

/* 16. Theme Toggle Button */
.theme-toggle-button { background: none; border: 1px solid var(--border-color); color: var(--text-secondary); padding: 5px 8px; border-radius: 50%; cursor: pointer; transition: color 0.2s, border-color 0.2s, transform 0.2s; margin-left: 1rem; display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; }
.theme-toggle-button:hover { color: var(--accent-primary); border-color: var(--accent-primary); } /* Keep accent hover */
.theme-toggle-button .material-symbols-outlined { font-size: 1.2rem; }

/* Language Toggle Button */
.language-toggle-button { background: none; border: 1px solid var(--border-color); color: var(--text-secondary); font-family: var(--font-heading); font-weight: 600; font-size: 0.9rem; padding: 0; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; transition: color 0.2s, border-color 0.2s, background-color 0.2s; margin-left: 1rem; display: flex; align-items: center; justify-content: center; line-height: 1; }
.language-toggle-button:hover { color: var(--accent-primary); border-color: var(--accent-primary); background-color: var(--bg-element-lighter); } /* Keep accent hover */
html[dir="rtl"] .language-toggle-button { margin-left: 0; margin-right: 1rem; }
#language-toggle-text { margin-top: -4px; }
html[dir="rtl"] #language-toggle-text { margin-top: 0px; }

/* 17. Authentication Forms (Login/Signup) - ADJUSTED DARK THEME */
.registration-form-container { padding-top: 2rem; padding-bottom: 3rem; }
.registration-form-container .form-wrapper { background-color: var(--bg-element); border: 1px solid var(--border-color); border-radius: 8px; box-shadow: 0 10px 30px var(--shadow-color); color: var(--text-primary); }
.registration-form-container .card-body { padding: 2rem 2.5rem; }
.registration-form-container .form-title { color: var(--text-primary); font-weight: 800; text-transform: uppercase; font-size: 1.6rem; letter-spacing: 1px; margin-bottom: 2rem; text-align: center; }
.registration-form-container .form-field-group { margin-bottom: 1.5rem; }
.registration-form-container .form-field-group label.form-label { color: var(--text-secondary); font-weight: 600; font-size: 0.85rem; margin-bottom: 0.5rem; display: block; text-transform: uppercase; letter-spacing: 0.5px; }
.registration-form-container input[type="text"], .registration-form-container input[type="email"], .registration-form-container input[type="password"], .registration-form-container .form-control { background-color: var(--bg-primary); border: 1px solid var(--border-color); color: var(--text-primary); border-radius: 4px; padding: 0.75rem 1rem; font-size: 1rem; height: auto; width: 100%; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
.registration-form-container input:focus { background-color: var(--bg-primary); border-color: var(--accent-primary); box-shadow: 0 0 0 0.2rem var(--input-focus-glow); color: var(--text-primary); outline: none; } /* Keep accent focus */
.registration-form-container input::placeholder { color: var(--text-tertiary); opacity: 1; }
.registration-form-container .form-help-text, .registration-form-container ul li { color: var(--text-secondary) !important; font-size: 0.8rem; line-height: 1.5; }
.registration-form-container .form-help-text { padding-left: 0; margin-top: 0.4rem; }
.registration-form-container ul { list-style: none; padding-left: 0; margin-top: 0.6rem; margin-bottom: 0; }
.registration-form-container ul li { margin-bottom: 0.3rem; position: relative; padding-left: 1.4em; }
.registration-form-container ul li::before { content: '•'; position: absolute; left: 0.25em; color: var(--text-tertiary); font-size: 1.2em; line-height: 1; }
.registration-form-container .form-error-text { font-size: 0.8rem; color: var(--rating-haram); margin-top: 0.4rem; font-weight: 600; }
.registration-form-container .form-error-alert { background-color: rgba(255, 82, 82, 0.1); border: 1px solid rgba(255, 82, 82, 0.3); color: #ff8a8a; font-size: 0.9rem; border-radius: 4px; padding: 0.75rem 1rem; }
.registration-form-container .form-error-alert p { margin-bottom: 0; }
.registration-form-container .btn-submit { background-color: var(--accent-primary); border-color: var(--accent-primary); color: var(--bg-primary); font-family: var(--font-heading); font-weight: 800; text-transform: uppercase; padding: 0.8rem 1rem; letter-spacing: 1.5px; border-radius: 4px; transition: all 0.2s ease; width: 100%; margin-top: 1rem; } /* Keep accent button */
.registration-form-container .btn-submit:hover { background-color: var(--accent-hover); border-color: var(--accent-hover); color: var(--bg-primary); transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0, 255, 170, 0.2); }
.registration-form-container .form-switch-link { color: var(--text-secondary) !important; font-size: 0.9rem; text-align: center; margin-top: 1.5rem; }
/* --- UPDATED: Auth form switch link now uses general link colors --- */
.registration-form-container .form-switch-link a {
    color: var(--link-switch-color) !important; /* Uses updated variable */
    font-weight: 600;
    text-decoration: underline;
    text-decoration-color: var(--border-color);
    transition: color 0.2s ease, text-decoration-color 0.2s ease;
}
.registration-form-container .form-switch-link a:hover {
    color: var(--link-switch-hover) !important; /* Uses updated variable */
    text-decoration-color: var(--link-switch-hover);
}
/* --- END UPDATED --- */


/* Responsive Adjustments */
@media (max-width: 768px) {
    h1 { font-size: 1.8rem; }
    .detail-title { font-size: 1.6rem; }
    .main-content { padding-top: 2rem; padding-bottom: 2rem; }
    .navbar-nav { margin-top: 0.5rem; } /* Space when collapsed */
    .registration-form-container .card-body { padding: 1.5rem; }
    .theme-toggle-button { margin-left: 0.5rem;}
}

/* ==========================================================================
   RTL (Right-to-Left) Language Overrides - v3
   ========================================================================== */

html[dir="rtl"] {
  --font-primary: 'Tajawal', 'Inter', sans-serif;
  --font-heading: 'Tajawal', 'Exo 2', sans-serif;
}

html[dir="rtl"] body { text-align: right; }
html[dir="rtl"] .navbar-nav { margin-right: auto !important; margin-left: 0 !important; padding-right: 0; }
html[dir="rtl"] .dropdown-menu-end { right: auto !important; left: 0 !important; }
html[dir="rtl"] .dropdown-menu[data-bs-popper] { left: 0 !important; right: auto !important; }
html[dir="rtl"] .navbar .nav-item .theme-toggle-button { margin-left: 0; margin-right: 1rem; }
html[dir="rtl"] .page-header h1 { text-align: right; }
html[dir="rtl"] .page-header::after { left: auto; right: 0; }
html[dir="rtl"] .page-header .search-form { margin-right: auto !important; margin-left: 0 !important; }
html[dir="rtl"] .filter-sort-form .text-end { text-align: left !important; }
html[dir="rtl"] .game-meta, html[dir="rtl"] .detail-meta { text-align: right; }
/* html[dir="rtl"] .detail-meta::after { left: auto; right: 0; } */ /* No longer needed if line removed */
html[dir="rtl"] .rating-badge { display: inline-flex; flex-direction: row-reverse; align-items: center; margin-left: 6px; margin-right: 0; direction: ltr; }
html[dir="rtl"] .rating-badge .rating-icon { margin-left: 4px; margin-right: 0; }
html[dir="rtl"] .flag-symbol { margin-right: 0; margin-left: 6px; }
.flag-item { display: flex; align-items: center; margin-bottom: 0.5rem; padding: 0.35rem 0.5rem; border-radius: 4px; border: 1px solid transparent; transition: background-color 0.2s ease; }
.flag-item .flag-symbol { flex-shrink: 0; margin-right: 8px; font-size: 1.1em; color: var(--text-secondary); width: 32px; text-align: center; line-height: 1; margin-bottom: 0; }
.flag-item .flag-description { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.3; }
.flag-item-adjustable { background-color: color-mix(in srgb, var(--accent-primary) 10%, transparent); border-left: 3px solid var(--accent-primary); border-color: color-mix(in srgb, var(--accent-primary) 30%, transparent); }
.flag-item-adjustable .flag-symbol { color: var(--accent-primary); }
.flag-item-adjustable .flag-description { color: var(--text-primary); }
.flag-item-adjustable .flag-description .text-adjustable { color: var(--accent-primary); font-weight: 600; font-size: 0.8em; }
html[dir="rtl"] .flag-item .flag-symbol { margin-right: 0; margin-left: 8px; }
html[dir="rtl"] .flag-item-adjustable { border-left: none; border-right: 3px solid var(--accent-primary); }
html[dir="rtl"] .flag-item-adjustable .flag-description .text-adjustable.ms-1 { margin-left: 0 !important; margin-right: 0.25rem !important; }
.flag-adjustable { border-color: var(--accent-primary); color: var(--accent-primary); }
.flag-item-adjustable .flag-symbol { border-color: var(--accent-primary); }
html[dir="rtl"] .badge.adjustment-badge.ms-1 { margin-right: 0.25rem !important; margin-left: 0 !important; }
html[dir="rtl"] .badge.adjustment-badge.ms-2 { margin-right: 0.5rem !important; margin-left: 0 !important; }
html[dir="rtl"] .detail-overall-rating { text-align: right; }
html[dir="rtl"] .me-2 { margin-left: 0.5rem !important; margin-right: 0 !important; }
html[dir="rtl"] .adjustment-guide-section { border-left: none; border-right: 4px solid var(--highlight-gold); }
html[dir="rtl"] .store-link { margin-right: 0; margin-left: 5px; border-left: none; }
html[dir="rtl"] .store-link.steam { border-right: 3px solid #66c0f4; }
html[dir="rtl"] .store-link.epic { border-right: 3px solid #ffffff; }
html[dir="rtl"] .store-link.gog { border-right: 3px solid #8a43ce; }
html[dir="rtl"] .store-link.other { border-right: 3px solid var(--text-secondary); }
html[dir="rtl"] .critic-summary { border-right: 0.25rem solid var(--border-color); border-left: none; padding-right: 1rem; padding-left: 0; }
html[dir="rtl"] .critic-link .external-link-icon { vertical-align: middle; margin-right: 0.25rem; margin-left: 0; }
html[dir="rtl"] .severity-circle { margin-left: 0; margin-right: 10px; }
html[dir="rtl"] .guide-category-details { text-align: right; }
html[dir="rtl"] .category-reason strong { display: block; }
html[dir="rtl"] .guide-category-footer.spoiler-toggle-footer { text-align: left; }
html[dir="rtl"] .spoiler-alert svg { margin-left: 0.5rem; margin-right: 0; }
html[dir="rtl"] .article-item h4, html[dir="rtl"] .article-meta, html[dir="rtl"] .article-excerpt, html[dir="rtl"] .read-more-link, html[dir="rtl"] .article-detail-meta, html[dir="rtl"] .article-content { text-align: right; }
html[dir="rtl"] .filter-sort-form .form-label-sm { text-align: right; }
html[dir="rtl"] .glossary-content dt { text-align: right; }
html[dir="rtl"] .glossary-content dt .material-symbols-outlined, html[dir="rtl"] .glossary-content dt .severity-circle { margin-right: 0; margin-left: 8px; }
html[dir="rtl"] .glossary-content dd { padding-top: 1rem; padding-left: 0; padding-right: 1rem; margin-left: 0; margin-right: 0; text-align: right; }
html[dir="rtl"] .dl-horizontal dt, html[dir="rtl"] .row > dt[class*="col-"] { text-align: right; }
html[dir="rtl"] .registration-form-container .form-field-group label.form-label, html[dir="rtl"] .registration-form-container .form-error-text, html[dir="rtl"] .registration-form-container .form-help-text { text-align: right; }
html[dir="rtl"] .registration-form-container input[type="text"], html[dir="rtl"] .registration-form-container input[type="email"], html[dir="rtl"] .registration-form-container input[type="password"] { text-align: right; }
html[dir="rtl"] .registration-form-container ul li { text-align: right; padding-left: 0; padding-right: 1.4em; }
html[dir="rtl"] .registration-form-container ul li::before { left: auto; right: 0.25em; }
/* --- END RTL Overrides --- */

/* Language Switcher Icon */
.lang-icon { font-size: 1.1em; vertical-align: -2px; margin-right: 4px; }
html[dir="rtl"] .lang-icon { margin-right: 0; margin-left: 4px; }

/* ==========================================================================
   Language Switcher Link Styles (Keep Specific Styling)
   ========================================================================== */
.language-switcher .lang-switch-link { font-family: var(--font-heading); font-weight: 600; font-size: 0.8rem; text-transform: uppercase; color: var(--text-secondary); padding: 0.4rem 0.6rem; border: 1px solid var(--border-color); border-radius: 4px; line-height: 1; display: inline-flex; align-items: center; margin-left: 1rem; }
.language-switcher .lang-switch-link:hover { color: var(--text-primary); border-color: var(--accent-primary); background-color: var(--bg-element-lighter); } /* Keep accent hover */
.language-switcher .lang-icon { font-size: 1rem; vertical-align: -1px; margin-right: 3px; }
html[dir="rtl"] .language-switcher .lang-switch-link { margin-left: 0; margin-right: 1rem; }
html[dir="rtl"] .language-switcher .lang-icon { margin-right: 0; margin-left: 3px; }
.navbar-nav .nav-item.language-switcher { /* Alignment adjustments if needed */ }

/* Homepage Specific Styles */
.section-title { font-weight: 800; text-transform: uppercase; letter-spacing: 1px; color: var(--accent-primary); position: relative; padding-bottom: 0.75rem; display: inline-block; } /* Keep accent color */
.section-title::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 50px; height: 3px; background-color: var(--border-lighter); }
html[dir="rtl"] .section-title::after { /* Centered line doesn't need flipping */ }
#what-is-MGC { border: 1px solid var(--border-color); }
.article-list-simple .list-group-item { border-color: var(--border-color); color: var(--text-primary); transition: background-color 0.2s ease; padding-top: 1rem; padding-bottom: 1rem; }
/* Update hover for list item links to use blue */
.article-list-simple .list-group-item:hover { background-color: var(--bg-element-lighter) !important; color: var(--link-hover-color); }
.article-list-simple .list-group-item-action:hover .article-summary-title { color: var(--link-hover-color); } /* Title also blue on hover */
.article-list-simple .article-summary-title { color: var(--text-primary); font-weight: 600; font-size: 1.1rem; transition: color 0.2s ease; }
.article-list-simple .article-summary-excerpt { font-size: 0.9rem; }
html[dir="rtl"] .article-list-simple .list-group-item small:first-of-type { /* RTL Adjustments if needed */ }

/* --- Styles for Severity Text and Reason Handling --- */
.severity-display { gap: 0.25rem; }
.severity-text { font-size: 0.75rem; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; line-height: 1; }
.reason-toggle-icon { padding: 0.1rem 0.25rem; line-height: 1; color: var(--text-secondary); background-color: transparent; border: none; transition: color 0.2s ease, transform 0.2s ease; }
.reason-toggle-icon:hover { color: var(--accent-primary); } /* Keep accent hover */
.reason-toggle-icon .material-symbols-outlined { font-size: 1.25rem; vertical-align: middle; transition: transform 0.3s ease; }
.reason-toggle-icon[aria-expanded="true"] .material-symbols-outlined { transform: rotate(180deg); }
.category-reason-inline { margin-top: 1rem; padding-top: 0.75rem; }
.reason-separator { margin-top: 0; margin-bottom: 0.75rem; border-top: 1px dashed var(--border-color); opacity: 0.5; }
.reason-label { font-size: 0.8rem; font-weight: 600; color: var(--text-tertiary); margin-bottom: 0.25rem; text-transform: uppercase; letter-spacing: 0.5px; }
.reason-text { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0; }
html[dir="rtl"] .severity-text.ms-2 { margin-left: 0 !important; margin-right: 0.5rem !important; }
html[dir="rtl"] .reason-toggle-icon.ms-2 { margin-left: 0 !important; margin-right: 0.5rem !important; }
html[dir="rtl"] .category-reason-inline { /* Text alignment handled by body */ }
/* --- End Severity/Reason Styles --- */

/* --- Platform Icons --- */
.platform-icons-container { line-height: 1; margin-bottom: 0.5rem; }
.platform-icon { display: inline-block; font-size: 1.1rem; color: var(--text-secondary); margin-right: 6px; padding: 2px; vertical-align: middle; transition: color 0.2s ease; }
.platform-icon:hover { color: var(--text-primary); }
.platform-icon.platform-ps:hover { color: #0070d1; }
.platform-icon.platform-xbox:hover { color: #107c10; }
.platform-icon.platform-switch:hover { color: #e60012; }
.platform-icon.platform-pc:hover { color: #00a4ef; }
.detail-platform-section {}
.detail-platform-title { font-family: var(--font-heading); font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.8rem; text-transform: uppercase; letter-spacing: 0.5px; }
.detail-platform-section .platform-icons-container { margin-bottom: 0; }
.detail-platform-section .platform-icon { font-size: 1.3rem; margin-right: 8px; }
html[dir="rtl"] .platform-icon { margin-right: 0; margin-left: 6px; }
html[dir="rtl"] .detail-platform-section .platform-icon { margin-right: 0; margin-left: 8px; }
/* --- End Platform Icon Styles --- */

/* --- Platform Icons on Game Card (Badges) --- */
.platform-icons-container { line-height: 1; text-align: start; margin-bottom: 0.5rem; }
.platform-badge { font-size: 0.65rem; font-weight: 600; padding: 3px 6px; margin-right: 4px; margin-bottom: 4px; border-radius: 3px; text-transform: uppercase; letter-spacing: 0.5px; border: 1px solid transparent; display: inline-block; vertical-align: middle; }
.platform-badge.platform-steam { background-color: #1b2838; color: #c7d5e0; border-color: #66c0f4; }
.platform-badge.platform-epic { background-color: #333333; color: #ffffff; border-color: #666666; }
.platform-badge.platform-gog { background-color: #5d3a7a; color: #ffffff; border-color: #8a43ce; }
.platform-badge.platform-other { background-color: var(--bg-tertiary); color: var(--text-secondary); border-color: var(--border-color); }

/* --- Game Detail Meta Adjustment --- */
.detail-meta { font-size: 0.9rem; color: var(--text-secondary); text-transform: uppercase; position: relative; margin-top: 1rem; }
.detail-meta::after { content: none; } /* Removed accent line */

/* --- RTL Adjustments --- */
html[dir="rtl"] .platform-icons-container { text-align: right; }
html[dir="rtl"] .platform-badge { margin-right: 0; margin-left: 4px; }
/* --- End Platform/Detail Meta Styles --- */

.platform-icon img { width: 20px; height: 20px; position: relative; top: -2px; filter: hue-rotate(231deg) saturate(0.22) brightness(3); transition: filter 0.2s ease; }
.card-body .platform-icon img { width: 16px; height: 16px; }
.light-mode .platform-icon img { filter: hue-rotate(208deg) saturate(0.07) brightness(1.5); }
.platform-icon.platform-switch img:hover { filter: hue-rotate(0deg) saturate(1) brightness(1); }

.list-group { padding: 0; }