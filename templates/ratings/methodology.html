{# templates/ratings/methodology.html - FIXED to display dynamic content #}
{% extends "base.html" %}
{% load static %}
{% load i18n %}

{# Use page title from DB object if available, otherwise use a default #}
{% block title %}{% if methodology_page %}{{ methodology_page.title }}{% else %}{% translate "MGC Rating Methodology" %}{% endif %}{% endblock %}

{% block content %}
<div class="page-header">
  {# Use page title from DB object if available #}
  <h1>{% if methodology_page %}{{ methodology_page.title }}{% else %}{% translate "MGC Rating Methodology" %}{% endif %}</h1>
</div>

{# Apply styling similar to article content #}
<div class="methodology-content article-content">
    {% if methodology_page %} {# Checks for variable 'methodology_page' #}
        {{ methodology_page.content|safe }} {# Accesses '.content' on 'methodology_page' #}
    {% else %}
        {# Message shown if the page hasn't been created in the admin panel yet #}
        <div class="alert alert-warning" role="alert">
            {% translate "Methodology page content is currently unavailable. Please check back later or contact the site administrator." %}
        </div>
    {% endif %}
</div>
{% endblock %}